<h2>注文履歴詳細</h2>

<table>
  <tr>
    <th>購入者</th>
    <td><%= @order.customer.last_name %> <%= @order.customer.first_name %></td>
  </tr>
  <tr>
    <th>注文日</th>
    <td><%= @order.created_at %></td>
  </tr>
  <tr>
    <th>配送先</th>
    <td><%= @order.post_code %> <%= @order.address %></td>
  </tr>
  <tr>
    <th>支払い方法</th>
    <td><%= @order.payment_method %></td>
  </tr>
  <tr>
    <th>注文ステータス</th>
    <td>
      <%= form_with model: @order, url: admin_order_path(@order.id), local:true do |f| %>
      <%= f.select :status, options_from_collection_for_select(Order)
      <%= f.select :プロパティ名, options_from_collection_for_select(モデル, :フォームで送る値(メソッド), :セレクトボックスに表示する値(メソッド)) %>

    </td>
  </tr>
</table>

<table>
  <thead>
    <tr>
      <td>商品名</td>
      <td>単価(税込)</td>
      <td>数量</td>
      <td>小計</td>
      <td>製作ステータス</td>
    </tr>
  </thead>
  
  <tbody>
    <%= @order.order_detail.each do |order_detail| %>
    <tr>
      <td>
        <%= order_detail.product.name %>
      </td>
    </tr>
  </tbody>
</table>

<%= f.select :making_status, OrderDetail.making_statuses.keys.map {|k| [I18n.t("enums.order_detail.making_status.#{k}"), k]} %>